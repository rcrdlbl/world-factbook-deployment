{"ast":null,"code":"/*\n * Icosahedral map\n *\n * Implemented for D3.js by Jason Davies (2013),\n * Enrico Spinielli (2017) and Philippe Rivière (2017, 2018)\n *\n */\nimport { atan, degrees } from \"./math\";\nimport voronoi from \"./polyhedral/voronoi\";\nexport default function () {\n  var theta = atan(0.5) * degrees; // construction inspired by\n  // https://en.wikipedia.org/wiki/Regular_icosahedron#Spherical_coordinates\n\n  var vertices = [[0, 90], [0, -90]].concat([0, 1, 2, 3, 4, 5, 6, 7, 8, 9].map(function (i) {\n    var phi = (i * 36 + 180) % 360 - 180;\n    return [phi, i & 1 ? theta : -theta];\n  })); // icosahedron\n\n  var polyhedron = [[0, 3, 11], [0, 5, 3], [0, 7, 5], [0, 9, 7], [0, 11, 9], // North\n  [2, 11, 3], [3, 4, 2], [4, 3, 5], [5, 6, 4], [6, 5, 7], [7, 8, 6], [8, 7, 9], [9, 10, 8], [10, 9, 11], [11, 2, 10], // Equator\n  [1, 2, 4], [1, 4, 6], [1, 6, 8], [1, 8, 10], [1, 10, 2] // South\n  ].map(function (face) {\n    return face.map(function (i) {\n      return vertices[i];\n    });\n  });\n  var polygons = {\n    type: \"FeatureCollection\",\n    features: polyhedron.map(function (face) {\n      face.push(face[0]);\n      return {\n        geometry: {\n          type: \"Polygon\",\n          coordinates: [face]\n        }\n      };\n    })\n  };\n  var parents = [// N\n  -1, // 0\n  7, // 1\n  9, // 2\n  11, // 3\n  13, // 4\n  // Eq\n  0, // 5\n  5, // 6\n  6, // 7\n  7, // 8\n  8, // 9\n  9, // 10\n  10, // 11\n  11, // 12\n  12, // 13\n  13, // 14\n  // S\n  6, // 15\n  8, // 16\n  10, // 17\n  12, // 18\n  14];\n  return voronoi().parents(parents).angle(0).polygons(polygons).rotate([108, 0]).scale(131.777).center([162, 0]);\n}\n/*\n    // Jarke J. van Wijk, \"Unfolding the Earth: Myriahedral Projections\",\n    // The Cartographic Journal Vol. 45 No. 1 pp. 32–42 February 2008, fig. 8\n    // https://bl.ocks.org/espinielli/475f5fde42a5513ab7eba3f53033ea9e\n    d3.geoIcosahedral().parents([-1,0,1,11,3,0,7,1,7,8,9,10,11,12,13,6,8,10,19,15])\n   .angle(-60)\n   .rotate([-83.65929, 25.44458, -87.45184])\n*/","map":null,"metadata":{},"sourceType":"module"}